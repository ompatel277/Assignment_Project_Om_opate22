{% extends "accounts/base.html" %}
{% load static %}
{% block title %}{{ user.username }} — Profile{% endblock %}

{% block content %}
<div class="container my-5">
 <div class="card shadow-lg border-0 rounded-4 mx-auto" style="max-width: 900px;">
 <div class="card-body p-5">

 <!-- Header -->
 <div class="text-center mb-4">
 <img src="{% static 'images/user_icon.png' %}" alt="Profile Icon" width="90" class="mb-3">
 <h2 class="fw-bold mb-1">{{ user.username }}</h2>
 <p class="text-muted mb-0">{{ user.email }}</p>
 </div>

 {% if user.profile %}
 <hr class="my-4">

 <!-- Academic Information -->
 <h4 class="fw-semibold mb-3 text-primary"><i class="bi bi-mortarboard-fill"></i> Academic Information</h4>
 <div class="row">
 <div class="col-md-6">
 <p><strong>College:</strong> {{ user.profile.college|default:"Not selected" }}</p>
 <p><strong>Major:</strong> {{ user.profile.major|default:"Undeclared" }}</p>
 <p><strong>Minors:</strong>
 {% if user.profile.minors.all %}
 {% for minor in user.profile.minors.all %}
 {{ minor.name }}{% if not forloop.last %}, {% endif %}
 {% endfor %}
 {% else %}
 None
 {% endif %}
 </p>
 </div>
 <div class="col-md-6">
 <p><strong>Academic Year:</strong> {{ user.profile.get_academic_year_display|default:"N/A" }}</p>
 <p><strong>GPA:</strong> {{ user.profile.gpa|default:"N/A" }}</p>
 </div>
 </div>

 <hr class="my-4">

 <!-- Career & Interests -->
 <h4 class="fw-semibold mb-3 text-success"><i class="bi bi-lightbulb-fill"></i> Career & Interests</h4>
 <p><strong>Career Goals:</strong> {{ user.profile.career_goals|default:"Not specified" }}</p>

 <p><strong>Skills:</strong>
 {% if user.profile.get_skills_list %}
 <div class="d-inline-flex flex-wrap gap-1 ms-2">
 {% for skill in user.profile.get_skills_list %}
 <span class="badge bg-primary">{{ skill }}</span>
 {% endfor %}
 </div>
 {% else %}
 <span class="text-muted">None</span>
 {% endif %}
 </p>

 <p><strong>Personal Interests:</strong>
 {% if user.profile.get_interests_list %}
 <div class="d-inline-flex flex-wrap gap-1 ms-2">
 {% for interest in user.profile.get_interests_list %}
 <span class="badge bg-info">{{ interest }}</span>
 {% endfor %}
 </div>
 {% else %}
 <span class="text-muted">None</span>
 {% endif %}
 </p>

 <hr class="my-4">

 <!-- Work Experience -->
 <h4 class="fw-semibold mb-3 text-warning"> Experience</h4>
 <p>{{ user.profile.work_experience|default:"No work experience added yet." }}</p>

 <hr class="my-4">

 <!-- Preferences -->
 <h4 class="fw-semibold mb-3 text-info"><i class="bi bi-globe"></i> Preferences</h4>
 <div class="row">
 <div class="col-md-6">
 <p><strong>Industries:</strong> {{ user.profile.preferred_industries|default:"None" }}</p>
 <p><strong>Positions:</strong> {{ user.profile.preferred_positions|default:"None" }}</p>
 </div>
 <div class="col-md-6">
 <p><strong>Locations:</strong> {{ user.profile.preferred_locations|default:"None" }}</p>
 <p><strong>Company Preferences:</strong> {{ user.profile.preferred_company|default:"None" }}</p>
 </div>
 </div>

 {% else %}
 <p class="text-muted">No profile information found.</p>
 {% endif %}

 {% if user == request.user %}
 <div class="text-center mt-4">
 <a href="{% url 'accounts:edit_profile' %}" class="btn btn-primary px-4"> Edit Profile</a>
 <a href="{% url 'accounts:dashboard' %}" class="btn btn-outline-secondary px-4 ms-2">← Dashboard</a>
 </div>
 {% endif %}
 </div>
 </div>
</div>
{% endblock %}